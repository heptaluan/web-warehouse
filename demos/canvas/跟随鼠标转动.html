<!DOCTYPE html >
<html>
<head>
<title> 跟随鼠标转动 </title>
<meta charset="utf-8" />
<link rel="stylesheet" href="#">
<style>
canvas {background: #ccc;}
</style>
<script>
window.onload = function () {
    var canvas = document.getElementById("canvas");
    var cobj = canvas.getContext("2d");

    //鼠标跟随转动
    cobj.lineWidth = 5;
    cobj.strokeStyle = "#ff0000";
    cobj.moveTo(250, 400);
    cobj.lineTo(250, 360);
    cobj.stroke();
    canvas.onmousemove = function (e) {
        var mx = e.layerX;
        var my = e.layerY;
        var startx = 250;
        var starty = 400;
        var angle = Math.atan2((my - starty), (mx - startx));
        cobj.clearRect(0, 0, 500, 500);
        cobj.beginPath();
        cobj.moveTo(startx, starty);
        cobj.lineTo(startx + 40 * Math.cos(angle), starty + 40 * Math.sin(angle));
        cobj.stroke();
    }
}
</script>
</head>

<body>
	<canvas id="canvas" width=500 height=500></canvas>
</body>

</html>